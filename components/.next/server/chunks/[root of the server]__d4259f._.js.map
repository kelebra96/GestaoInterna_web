{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 63, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/app/api/config/storage/route.ts"],"sourcesContent":["\nimport { NextResponse } from 'next/server';\nimport fs from 'fs/promises';\nimport path from 'path';\n\nconst configFilePath = path.join(process.cwd(), 'storage.config.json');\n\nasync function getConfig() {\n  try {\n    const data = await fs.readFile(configFilePath, 'utf-8');\n    return JSON.parse(data);\n  } catch (error: any) {\n    // If the file doesn't exist, create it with default values\n    if (error.code === 'ENOENT') {\n      const defaultConfig = { useFirebase: true };\n      await fs.writeFile(configFilePath, JSON.stringify(defaultConfig, null, 2));\n      return defaultConfig;\n    }\n    throw error;\n  }\n}\n\nexport async function GET() {\n  try {\n    const config = await getConfig();\n    return NextResponse.json(config);\n  } catch (error) {\n    return NextResponse.json({ error: 'Failed to read configuration' }, { status: 500 });\n  }\n}\n\nexport async function POST(request: Request) {\n  try {\n    const { useFirebase } = await request.json();\n    if (typeof useFirebase !== 'boolean') {\n      return NextResponse.json({ error: 'Invalid value for useFirebase' }, { status: 400 });\n    }\n\n    const currentConfig = await getConfig();\n    const newConfig = { ...currentConfig, useFirebase };\n\n    await fs.writeFile(configFilePath, JSON.stringify(newConfig, null, 2));\n\n    return NextResponse.json({ message: 'Configuration updated successfully' });\n  } catch (error) {\n    return NextResponse.json({ error: 'Failed to update configuration' }, { status: 500 });\n  }\n}\n"],"names":[],"mappings":";;;;AACA;AACA;AACA;;;;AAEA,MAAM,iBAAiB,6FAAA,CAAA,UAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI;AAEhD,eAAe;IACb,IAAI;QACF,MAAM,OAAO,MAAM,uGAAA,CAAA,UAAE,CAAC,QAAQ,CAAC,gBAAgB;QAC/C,OAAO,KAAK,KAAK,CAAC;IACpB,EAAE,OAAO,OAAY;QACnB,2DAA2D;QAC3D,IAAI,MAAM,IAAI,KAAK,UAAU;YAC3B,MAAM,gBAAgB;gBAAE,aAAa;YAAK;YAC1C,MAAM,uGAAA,CAAA,UAAE,CAAC,SAAS,CAAC,gBAAgB,KAAK,SAAS,CAAC,eAAe,MAAM;YACvE,OAAO;QACT;QACA,MAAM;IACR;AACF;AAEO,eAAe;IACpB,IAAI;QACF,MAAM,SAAS,MAAM;QACrB,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;IAC3B,EAAE,OAAO,OAAO;QACd,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAA+B,GAAG;YAAE,QAAQ;QAAI;IACpF;AACF;AAEO,eAAe,KAAK,OAAgB;IACzC,IAAI;QACF,MAAM,EAAE,WAAW,EAAE,GAAG,MAAM,QAAQ,IAAI;QAC1C,IAAI,OAAO,gBAAgB,WAAW;YACpC,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAgC,GAAG;gBAAE,QAAQ;YAAI;QACrF;QAEA,MAAM,gBAAgB,MAAM;QAC5B,MAAM,YAAY;YAAE,GAAG,aAAa;YAAE;QAAY;QAElD,MAAM,uGAAA,CAAA,UAAE,CAAC,SAAS,CAAC,gBAAgB,KAAK,SAAS,CAAC,WAAW,MAAM;QAEnE,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YAAE,SAAS;QAAqC;IAC3E,EAAE,OAAO,OAAO;QACd,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAiC,GAAG;YAAE,QAAQ;QAAI;IACtF;AACF"}},
    {"offset": {"line": 129, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}